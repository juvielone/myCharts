<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sample Chart</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div style="width: 800px; margin-top: 70px; margin-left: 20%">
      <div>
        <h1 style="margin-left: 30%">My Awesome Chart</h1>
        <canvas id="myChart"></canvas>
        <div class="legendBox">
          <button id="red" onclick="toggleData(0)">Red</button>
          <button id="blue" onclick="toggleData(1)">Blue</button>
          <button id="yellow" onclick="toggleData(2)">Yellow</button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      const myChart = document.getElementById("myChart");

      new Chart(myChart, {
        data: {
          datasets: [
            {
              type: "line",
              label: "Line One",
              data: [10, 30, 21, 11],
              backgroundColor: "blue",
              borderColor: "blue",
            },
            {
              type: "line",
              label: "Line Two",
              data: [20, 24, 13, 30],
              backgroundColor: "red",
              borderColor: "red",
            },
            {
              type: "bar",
              label: "Bar One",
              data: [10, 20, 30, 40],
              backgroundColor: "orange",
            },
            {
              type: "bar",
              label: "Bar Two",
              data: [10, 30, 20, 13],
              backgroundColor: "purple",
            },
          ],
          labels: ["January", "February", "March", "April"],
        },
      });
      document.getElementById("red").style.back;

      // Assuming you have a Chart.js instance called 'myChart'

      // Get the bar legend elements
      const barLegendElements = document.querySelectorAll(
        ".chart-legend li span"
      );

      // Add event listeners to each bar legend element
      barLegendElements.forEach((element, index) => {
        element.addEventListener("click", () => {
          const datasetIndex = index; // Index of the line dataset to be updated

          // Get the current visibility state of the line dataset
          const isHidden = myChart.isDatasetHidden(datasetIndex);

          // Update the visibility state of the line dataset
          myChart.setDatasetVisibility(datasetIndex, !isHidden);

          // Update the chart to reflect the changes
          myChart.update();
        });
      });
    </script>
  </body>
</html>
